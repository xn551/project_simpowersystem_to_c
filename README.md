# project_simpowersystem_to_c

## Description
This project is used for Simulink RTW code.

For Simulink/simpowersystem, the non-inlined s-function is used in the simulink model.The c code converted by RTW(for example, ert, for embeded system) will not be complied because some cruial file lost or needed modified.

This project contains a templete directory called `simulink`, which is converted from the Wind DER simulink file and can be compiled by gcc and executed very well in mingw or linux.

`build_c_simulink` is a linux shell script. It make a new directory called `dir_Object` and put the .c and .h file in *rtw directory generated by RTW in it. And the include file and  makefile in `simulink` templete directory is also added. Some modification is made by the scipt and in the end compile the c code.

## How to use
- Copy the *rtw directory generated by RTW
- Edit `build_c_simulink`, `dir` is the object directory contained modified code. nameis the name of your simulink slx file. code is your *rtw directory. change them as you need. However, don't change the `templete`
- In mingw or git bash , `./build_c_simulink`. for linux sysetme, you may need to change the perssion `chmod 755 build_c_simulink`, and add `#!/bin/bash` at the beginning.

## Suggestion
The project is for future IEC61850 communication simulation. This simulink converted c-code is used for generating DER simuliation data. And the project is suggested to run in the Win10 and mingw/msys for convenience.
